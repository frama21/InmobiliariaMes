CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
/*C2*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
/*C3*/SET SCHEMA PUBLIC
CONNECT USER SA
SET AUTOCOMMIT FALSE
CREATE TABLE ASESOR (\u000a       CODIGO_EMPLEADO CHAR(15) NOT NULL\u000a     , NOMBRE CHAR(15) NOT NULL\u000a     , PRIMARY KEY (CODIGO_EMPLEADO)\u000a)
CREATE TABLE CLIENTE (\u000a       NIF_CLIENTE CHAR(15) NOT NULL\u000a     , NOMBRE CHAR(15) NOT NULL\u000a     , APELLIDOS CHAR(30)\u000a     , PRIMARY KEY (NIF_CLIENTE)\u000a)
/*C2*/SET AUTOCOMMIT TRUE
SET AUTOCOMMIT FALSE
DROP TABLE ASESOR
DROP TABLE CLIENTE
CREATE TABLE ASESOR (\u000a       CODIGO_EMPLEADO CHAR(15) NOT NULL\u000a     , NOMBRE CHAR(15) NOT NULL\u000a     , PRIMARY KEY (CODIGO_EMPLEADO)\u000a)
CREATE TABLE CLIENTE (\u000a       NIF_CLIENTE CHAR(15) NOT NULL\u000a     , NOMBRE CHAR(15) NOT NULL\u000a     , APELLIDOS CHAR(30)\u000a     , PRIMARY KEY (NIF_CLIENTE)\u000a)
CREATE TABLE INMUEBLE (\u000a       COD_ID CHAR(15) NOT NULL\u000a     , CALLE CHAR(20)\u000a     , LOCALIDAD CHAR(20)\u000a     , FECHA_ALTA CHAR(15)\u000a     , SUPERFICIE_TOTAL CHAR(10)\u000a     , VENTA_ALQUILER CHAR(5)\u000a     , CODIGO_EMPLEADO CHAR(15)\u000a     , NIF_CLIENTE CHAR(10) NOT NULL\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_INMUEBLE_2 FOREIGN KEY (CODIGO_EMPLEADO)\u000a                  REFERENCES ASESOR (CODIGO_EMPLEADO)\u000a     , CONSTRAINT FK_INMUEBLE_1 FOREIGN KEY (NIF_CLIENTE)\u000a                  REFERENCES CLIENTE (NIF_CLIENTE)\u000a)
CREATE TABLE VISITA (\u000a       FECHA CHAR(25)\u000a     , COD_ID CHAR(15)\u000a     , NIF_CLIENTE CHAR(15) NOT NULL\u000a     , CODIGO_EMPLEADO CHAR(15) NOT NULL\u000a     , COD_VISITA CHAR(15) NOT NULL\u000a     , PRIMARY KEY (COD_VISITA)\u000a     , CONSTRAINT FK_VISITA_1 FOREIGN KEY (COD_ID)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a     , CONSTRAINT FK_VISITA_2 FOREIGN KEY (NIF_CLIENTE)\u000a                  REFERENCES CLIENTE (NIF_CLIENTE)\u000a     , CONSTRAINT FK_VISITA_3 FOREIGN KEY (CODIGO_EMPLEADO)\u000a                  REFERENCES ASESOR (CODIGO_EMPLEADO)\u000a)
CREATE TABLE OFERTA (\u000a       PRECIO CHAR(20)\u000a     , FECHA CHAR(10)\u000a     , COD_OFERTA CHAR(20) NOT NULL\u000a     , COD_VISITA CHAR(15) NOT NULL\u000a     , PRIMARY KEY (COD_OFERTA)\u000a     , CONSTRAINT FK_OFERTA_1 FOREIGN KEY (COD_VISITA)\u000a                  REFERENCES VISITA (COD_VISITA)\u000a)
CREATE TABLE NAVEINDUSTRIAL (\u000a       COD_ID CHAR(15) NOT NULL\u000a     , NUM_PUERTAS CHAR(10)\u000a     , CALIFICACION CHAR(10)\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_NAVEINDUSTRIAL_1 FOREIGN KEY (COD_ID)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a)
CREATE TABLE TRANSACCION (\u000a       PRECIO_FINAL CHAR(20)\u000a     , FECHA CHAR(15)\u000a     , COMPRA_O_ALQUILER CHAR(5)\u000a     , COD_TRANSACCION CHAR(20) NOT NULL\u000a     , COD_OFERTA CHAR(10) NOT NULL\u000a     , PRIMARY KEY (COD_TRANSACCION)\u000a     , CONSTRAINT FK_TRANSACCION_1 FOREIGN KEY (COD_OFERTA)\u000a                  REFERENCES OFERTA (COD_OFERTA)\u000a)
CREATE TABLE PISO (\u000a       COD_ID CHAR(15) NOT NULL\u000a     , NUM_HABITACIONES CHAR(10)\u000a     , PRIMARY KEY (COD_ID)\u000a     , CONSTRAINT FK_PISO_1 FOREIGN KEY (COD_ID)\u000a                  REFERENCES INMUEBLE (COD_ID)\u000a)
/*C4*/SET SCHEMA PUBLIC
CONNECT USER SA
